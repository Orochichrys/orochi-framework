document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".o-burger"),t=document.querySelector(".o-burger-icon");t&&(t.innerHTML='<i class="oi oi-menu"></i>'),document.querySelectorAll(".o-dropdown > .o-nav-link").forEach((e=>{e.textContent.includes("▾")||e.textContent.includes("▴")||(e.textContent+=" ▾");const t=()=>{e.textContent=e.textContent.includes("▾")?e.textContent.replace("▾","▴"):e.textContent.replace("▴","▾")};["click","mouseover","mouseout"].forEach((o=>e.addEventListener(o,t)))})),e&&e.addEventListener("click",(()=>{const e=document.querySelector(".o-menu");if(!e||!t)return;const o=e.classList.contains("o-menu-active");e.classList.toggle("o-menu-active"),t.innerHTML=o?'<i class="oi oi-menu"></i>':'<i class="oi oi-close"></i>'}))}));const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observerCallback=(e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("o-visible"),t.unobserve(e.target))}))},observer=new IntersectionObserver(observerCallback,observerOptions),animationClasses=[".o-card-scroll-animate",".o-fade-animate",".o-slide-left",".o-slide-right",".o-slide-down",".o-zoom-animate",".o-zoom-out-animate",".o-rotate-animate",".o-rotate-left",".o-rotate-right",".o-flip-x",".o-flip-y",".o-bounce-animate",".o-swing-animate",".o-unfold-animate",".o-slide-diagonal-tl",".o-slide-diagonal-tr",".o-slide-diagonal-bl",".o-slide-diagonal-br"];function resetAnimations(){document.querySelectorAll(animationClasses.join(", ")).forEach((e=>{e.classList.remove("o-visible"),observer.observe(e)}))}function triggerAnimation(e){e&&!e.classList.contains("o-visible")&&e.classList.add("o-visible")}document.querySelectorAll(animationClasses.join(", ")).forEach((e=>{observer.observe(e)}));class OrochiModal{constructor(){this.modals=[],this.activeModal=null,this.previousActiveElement=null,this.init()}init(){document.querySelectorAll(".o-modal").forEach((e=>{this.modals.push(e),e.setAttribute("aria-hidden","true"),e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.id||(e.id=`modal-${Math.random().toString(36).substr(2,9)}`)})),document.querySelectorAll("[data-o-modal-target]").forEach((e=>{const t=e.dataset.oModalTarget,o=document.querySelector(t);o?(e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-controls",o.id),e.addEventListener("click",(t=>{t.preventDefault(),this.open(o,e)}))):console.warn(`Modal target "${t}" not found for:`,e)})),document.querySelectorAll("[data-o-modal-close]").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.closest(".o-modal");o&&this.close(o)}))})),document.addEventListener("click",(e=>{e.target.classList.contains("o-modal")&&this.close(e.target)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.activeModal&&this.close(this.activeModal)}))}open(e,t=null){this.closeAll(),this.previousActiveElement=t||document.activeElement,this.activeModal=e,e.setAttribute("aria-hidden","false"),t&&t.setAttribute("aria-expanded","true"),document.body.classList.add("o-modal-open"),setTimeout((()=>this.trapFocus(e)),100),e.dispatchEvent(new CustomEvent("modalOpen",{detail:{modal:e,trigger:t}}))}close(e){e&&"true"!==e.getAttribute("aria-hidden")&&(e.setAttribute("aria-hidden","true"),document.body.classList.remove("o-modal-open"),document.querySelectorAll("[data-o-modal-target]").forEach((t=>{document.querySelector(t.dataset.oModalTarget)===e&&t.setAttribute("aria-expanded","false")})),this.releaseFocus(),this.activeModal===e&&(this.activeModal=null),e.dispatchEvent(new CustomEvent("modalClose",{detail:{modal:e}})))}closeAll(){this.modals.forEach((e=>{"false"===e.getAttribute("aria-hidden")&&this.close(e)}))}trapFocus(e){const t=e.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details, summary'),o=t[0],a=t[t.length-1];o?.focus();const n=e=>{"Tab"===e.key&&(e.shiftKey&&document.activeElement===o?(e.preventDefault(),a?.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),o?.focus()))};e._tabListener&&e.removeEventListener("keydown",e._tabListener),e._tabListener=n,e.addEventListener("keydown",n)}releaseFocus(){if(this.previousActiveElement?.focus)try{this.previousActiveElement.focus()}catch{}this.previousActiveElement=null}isOpen(e){return"false"===e.getAttribute("aria-hidden")}getActiveModal(){return this.activeModal}openById(e){const t=document.getElementById(e);t?this.open(t):console.warn(`Modal with ID "${e}" not found`)}closeById(e){const t=document.getElementById(e);t&&this.close(t)}destroy(){this.closeAll(),document.body.classList.remove("o-modal-open"),this.modals.forEach((e=>{e._tabListener&&e.removeEventListener("keydown",e._tabListener)}))}}let orochiModalInstance=null;function openModal(e){const t=document.getElementById(e);if(!t)return console.warn(`Modal "${e}" introuvable`);t.setAttribute("aria-hidden","false"),document.body.classList.add("o-modal-open")}function closeModal(e){const t=document.getElementById(e);if(!t)return console.warn(`Modal "${e}" introuvable`);t.setAttribute("aria-hidden","true"),document.body.classList.remove("o-modal-open")}document.addEventListener("DOMContentLoaded",(()=>{orochiModalInstance=new OrochiModal})),window.OrochiModal=OrochiModal,window.orochiModal=()=>orochiModalInstance,window.openModal=openModal,window.closeModal=closeModal;